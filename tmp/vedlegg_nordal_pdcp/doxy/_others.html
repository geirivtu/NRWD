<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>

<title>&quot;Other functionalities&quot;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logoPDCP.png"/></td>
  
  
  
   
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="index.html">index</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">"Other functionalities" </div>  </div>
</div>
<div class="contents">
<div class="textblock"><p>Because interface is in development stage, therefore some functionalities for debugging were provided to facilitate further interface development.<br/>
 All functions mentioned below were included within Hardware Abstraction Layer (HAL). <br/>
</p>
<h2><a class="anchor" id="Others1"></a>
EEPROM handling</h2>
<p>Nodes of prosthesis system contain much information about their vendor, serial number, transmission channels and other relevant parameters. Some of them are used only during program operation and there is no need to keep them in memory. However, some of them have to be saved in the non-volatile memory either external or internal one. Because the microcontroller is equipped with internal EEPROM (2kB) functions for EEPROM handling were implemented. These functions are:</p>
<ul>
<li>void <a class="el" href="functions_8h.html#a5e03eb18aa96cb6d0e9f49aa6c1e88a8" title="Write EEPROM.">writeEEPROM( uint8_t address, uint8_t data )</a></li>
<li>uint8_t <a class="el" href="functions_8h.html#a2d88e19271edae548b5017f347586e1b" title="Read EEPROM.">readEEPROM( uint8_t address )</a> <br/>
<br/>
<br/>
</li>
</ul>
<h2><a class="anchor" id="Others2"></a>
Error handling</h2>
<p>Although message sending in MCP2515 is retried up to 255 times, sometimes transmission errors may occur. Application working with the PDCP should be informed that error(s) happened, therefore error structure was implemented. Every error indicated by interrupt from controller increments the value of specified elements of this structure. The application can read the whole error structure by calling function:</p>
<ul>
<li>void <a class="el" href="functions_8h.html#afdccafa8262c9e744c3bd0127c7b3695" title="Callback function to check whether errors in transmission have occured.">checkTransmissionErrors( struct errorStr* )</a> <br/>
<br/>
<br/>
</li>
</ul>
<h2><a class="anchor" id="Others3"></a>
USART debugging</h2>
<p>Inside of the HAL USART handling was included which occurred a very useful tool while debugging because it enabled printing text messages in the form of strings on serial port. In conjunction with designed PCB board (which uses simple USB port and integrated circuit emulating RS232 port) and serial terminal program installed in the computer application designer is able to print both text and for example variable values on the screen. The latter is possible thanks to itoa() or sprint() function provided by stdlib library of AVRLIBc. The function is called:</p>
<ul>
<li>void <a class="el" href="functions_8h.html#a51d5b71d04a6a9e2985a665885f20878" title="Function to send string of chars through UART.">printUsart( char* )</a>.</li>
</ul>
<p><br/>
<br/>
<br/>
 </p>
</div></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 18 2012 05:45:07 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
