<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>

<title>Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logoPDCP.png"/></td>
  
  
  
   
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="intro_1"></a>
Project introduction</h2>
<p>This is a manual to Prosthetic Device Communication Protocol (PDCP) designed by Yves Losier and implemented as Master Thesis project by <br/>
<b>Andrzej Zamojski (TU of Lodz, Poland)</b><br/>
 and <br/>
<b> Andreas Nordal (NTNU in Trondheim, Norway). </b><br/>
 Supervisor of both of them was <b>Ã˜yvind Stavdahl (Cybernetic Department, NTNU)</b><br/>
</p>
<p>PDCP was previously only implemented on PIC microcontrollers, as result of interface development. To spread the idea of a standardized interface for prosthetics, it was decided to implement PDCP for the AVR platform, which is widely used in prosthesis industry.<br/>
</p>
<p>Team of Andreas and Andrzej divided protocol implementation into 2 parts: </p>
<dl>
<dt>Hardware Abstraction Layer ( HAL )</dt>
<dd>designed by Andrzej Zamojski (AZ) <a href="mailto:andruszamojski@gmail.com">(mail)</a> </dd>
<dt>High Level Layer ( HLL )</dt>
<dd>designed by Andreas Nordal (AN) <a href="mailto:andreas.nordal@gmail.com">(mail)</a> </dd>
</dl>
<p><b>Purpose of HAL layer </b>: provide transparency of hardware for higher layers of interface. Designers of<br/>
 higher layers of PDCP should not take care (as far as it`s not needed) of any aspects of hardware (like port initialization, interrupt routines responsible for communication with CAN controller and others). Parts of the code, which should be refreshed by application designer, are specially described.<br/>
</p>
<p><b>Purpose of HLL layer </b>: provide abstractions of the PDCP protocol itself. Functionality and aspects of the protocol are captured through functions and datatypes.<br/>
 binding.</p>
<p><br/>
<br/>
<br/>
</p>
<h2><a class="anchor" id="intro_2"></a>
Important functionalities</h2>
<p>The most importan functionalities provided by designed interface was shortly described on the pages:<br/>
</p>
<ul>
<li><a class="el" href="_h_a_l_h_l_l_interface.html">"HAL-HLL Interface"</a> Protocol between PDCP layers was described. ( AZ + AN )</li>
<li><a class="el" href="_msg_send.html">"Msg Sending"</a> Procedure of messages sending. ( AZ + AN )</li>
<li><a class="el" href="_msg_rec.html">"Msg Reception"</a> Procedure of messages reception. ( AZ + AN )</li>
<li><a class="el" href="_bind.html">"Binding"</a> Procedure of node binding. ( AN )</li>
<li><a class="el" href="_func.html">"PDCP functions"</a> Description of some functions delivered by PDCP. ( AN )</li>
<li><a class="el" href="_others.html">"Other functionalities"</a> Other functionalities. ( AZ )</li>
<li><a class="el" href="_hw_platform.html">"Hardware Plaftorm"</a> Hardware platform for AVR PDCP implementation. ( AZ )</li>
<li><a class="el" href="_download.html">"Download"</a> Download code and PCB project. ( AZ ) <br/>
<br/>
 Initials indicates authors of particular pages. <br/>
<br/>
<br/>
</li>
</ul>
<h2><a class="anchor" id="intro_3"></a>
Hardware resources</h2>
<p>Hardware resources used for protocol implementation are:<br/>
</p>
<ul>
<li>AT90USB1287 - High Performance, Low-Power AVR 8-bit microcontroller with 128 kB of ISP Flash;</li>
<li>MCP2515 - Microchip CAN controller;</li>
<li>MCP2551 - Microchip CAN transceiver.<br/>
<br/>
 Above presented hardware was combined into one PCB and designed by O.J.Borgersen and<br/>
 M.L.Volstad as USB Multifunction Board-Nimron and is used in programming courses at NTNU. More details can be found in the <a href="http://www.nimron.no/P1000/">Internet</a> <br/>
<br/>
<br/>
</li>
</ul>
<h2><a class="anchor" id="intro_4"></a>
Software platform</h2>
<p>Software was tested using AVR Studio version 4.19 and JTAGICE mkII debugger.<br/>
 Software can also be compiled using provided makefile, which was tested with avr-gcc 4.3.3. <br/>
<br/>
<br/>
</p>
<h2><a class="anchor" id="intro_5"></a>
Name convention</h2>
<p>To facilitate software development following name convention was used within the project:<br/>
</p>
<ul>
<li><b>CONFIG_name</b> - Both HAL and HLL contain part of software dedicated to special functionalities, which either are used only for debugging or for some configuration. To facilitate the use of the software compilation and running of the part of the code can be manually enables or disabled by changing <em>#define</em> preprocessor directives. All the directives which are related to bus device mode or define debugging modes begin with the prefix CONFIG_; <br/>
</li>
<li><b>HW_name</b> - HAL of interface, in contrast to the HLL, contains low level hardware initialization. To improve portability all ports relevant for proper operation of HAL are signed with HW_ prefix. These directives should be absolutely refreshed after the microcontroller exchange;</li>
<li><b>hal_name</b> - Function responsible for interface between lower and higher layer of PDCP from hardware point of view are signed with HAL_ prefix;</li>
<li><b>hll_name</b> - Function responsible for interface between lower and higher layer of PDCP from upper software point of view are signed with HLL_ prefix.</li>
</ul>
<p><br/>
<br/>
<br/>
 </p>
</div></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 18 2012 05:45:07 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
